<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>線形フィルタ回路</title>
<meta name="author" content="村田 昇"/>
<style type="text/css">
.underline { text-decoration: underline; }
</style>
<link rel="stylesheet" href="./reveal.js/dist/reveal.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/oer-reveal.css" id="theme"/>

<link rel="stylesheet" href="./reveal.js/plugin/toc-progress/toc-progress.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/toc-style.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/fonts/source-sans-pro/source-sans-pro.css"/>

<link rel="stylesheet" href="./reveal.js/plugin/accessibility/helper.css"/>

<link rel="stylesheet" href="./reveal.js/dist/theme/mycourse.css"/>
<link rel="stylesheet" href="./reveal.js/plugin/highlight/zenburn.css"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div class="reveal">
<div class="slides">
<section id="sec-title-slide" data-state="no-toc-progress">
<!-- This is an HTML template for the title slide. -->
<!-- Embed logos as necessary. -->
<!-- <a class="nooutlink" href="url"><img class="state-background your-logo-class" src="whatever.png" alt="Whatever" /></a> -->
<div class="talk-title">
    <h1 class="no-toc-progress">線形フィルタ回路</h1>
</div>
<div class="talk-subtitle">
    <p>信号処理 - 第9講</p>
</div>
<div class="keyboard-usage">
    <p>(Press <code>?</code> for help, <code>n</code> and <code>p</code> for next and previous slide)</p>
</div>
<div class="talk-author">
  <p>村田 昇<br />
  </p>
</div>

</section>

<section>
<section id="slide-orgbe07ff2">
<h2 id="orgbe07ff2">前回のおさらい</h2>
<div class="outline-text-2" id="text-orgbe07ff2">
</div>
</section>
<section id="slide-org20c55cc">
<h3 id="org20c55cc">フィルタ</h3>
<ul>
<li><p>
定義
</p>
<blockquote>
<p>
入力 \(f(t)\) を変換して出力 \(g(t)\) を生成する機構
</p>
</blockquote></li>

</ul>


<div id="org8fdb779" class="figure">
<p><img src="figs/filter1.png" alt="filter1.png" width="100%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-org03de9f1">
<h3 id="org03de9f1">線形性</h3>
<ul>
<li><p>
定義
</p>
<blockquote>
<p>
2つの入出力関係を考えたとき，
入力の線形結合がそのまま出力に反映される性質
</p>
</blockquote></li>

</ul>


<div id="orgaeae401" class="figure">
<p><img src="figs/filter2.png" alt="filter2.png" width="100%" />
</p>
</div>

<div id="org9b7d245" class="figure">
<p><img src="figs/filter3.png" alt="filter3.png" width="100%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-org04a313a">
<h3 id="org04a313a">時不変性</h3>
<ul>
<li><p>
定義
</p>
<blockquote>
<p>
入力の時刻が \(s\) ずれた場合，出力も \(s\) だけずれる性質
</p>
</blockquote>
<ul>
<li>時間が経過してもフィルタの性質は変わらない</li>

</ul></li>

</ul>


<div id="org29a80b9" class="figure">
<p><img src="figs/filter5.png" alt="filter5.png" width="100%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgf51d22a">
<h3 id="orgf51d22a">線形時不変フィルタの数学的表現</h3>
<ul>
<li><p>
フィルタの積分表現
</p>
<blockquote>
<div>
\begin{equation}
  g(t)=\int_{-\infty}^{\infty} f(s)h(t{-}s)ds
\end{equation}

</div>
</blockquote></li>
<li><p>
インパルス応答
</p>
<blockquote>
<div>
\begin{equation}
  h(t)
  =\int_{-\infty}^{\infty}\delta(s)h(t-s)ds
  =\int_{-\infty}^{\infty}h(s)\delta(t-s)ds
\end{equation}

</div>
</blockquote>
<ul>
<li>\(h(t)\) はフィルタに \(\delta(t)\) を入力した時の出力でもある</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>

</section>
<section id="slide-org9137452">
<h3 id="org9137452">Fourier変換による表現</h3>
<ul>
<li><p>
時間領域では畳み込み積分
</p>
<blockquote>
<div>
\begin{equation}
  g(t)
  =\int_{-\infty}^{\infty}h(t-s)f(s)ds
  = h{*}f(t)
\end{equation}

</div>
</blockquote>
<ul>
<li><p>
周波数領域では関数の積
</p>
<blockquote>
<div>
\begin{equation}
  \hat{g}(\omega)
  =
  \sqrt{2\pi}\cdot\hat{h}(\omega)\cdot\hat{f}(\omega)
\end{equation}

</div>
</blockquote></li>
<li>フィルタの機能は周波数毎の振幅と位相の変換</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>

</section>
<section id="slide-org43f56b1">
<h3 id="org43f56b1">因果的フィルタ</h3>
<ul>
<li><p>
定義
</p>
<blockquote>
<div>
\begin{equation}
  h(t)=0\;(t<0)
\end{equation}

</div>
</blockquote>
<ul>
<li>時刻0にインパルスが入力される前には何も出力がされない</li>

</ul></li>
<li><p>
因果的フィルタの畳み込み
</p>
<blockquote>
<p>
時刻 \(t\) での出力は
時刻 \(t\) 以前での入力のみにより定まる
</p>
<div>
\begin{equation}
  g(t)=\int_{-\infty}^{t}f(s)h(t-s)ds
\end{equation}

</div>
</blockquote></li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-org4abdac6" data-background="#fef4f4">
<h2 id="org4abdac6">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org8cf0ae2" data-background="#fef4f4">
<h3 id="org8cf0ae2">練習問題</h3>
<ul>
<li>以下の問に答えよ
<ul>
<li>関数 \(t e^{-\frac{t^2}{2}}\) を Fourier 変換せよ</li>
<li>関数 \(\Xi_{(-1,1)}(t)\) を Fourier 変換せよ</li>
<li>関数 \((\sin(\omega)/\omega)^{2}\) を 逆 Fourier 変換せよ</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgda84eb1" data-background="#fef4f4">
<h3 id="orgda84eb1">解答例</h3>
<ul>
<li><p>
関数 \(t e^{-\frac{t^2}{2}}\) の Fourier 変換
</p>
<blockquote>
<div>
\begin{equation}
  \mathcal{F}[f'](\omega)
  =i\omega\hat{f}(\omega),\quad
  \mathcal{F}^{-1}[\hat{f}'](t)
  =-itf(t)
\end{equation}

</div>

<p>
を利用すればよい
</p>
<div>
\begin{equation}
  t e^{-\frac{t^2}{2}}
  =
  (-e^{-\frac{t^2}{2}})'
\end{equation}

</div>

<p>
であるから
</p>
<div>
\begin{equation}
  \mathcal{F}[t e^{-\frac{t^2}{2}}](\omega)
  =-i\omega \mathcal{F}[e^{-\frac{t^2}{2}}](\omega)
  =-i\omega e^{-\frac{\omega^{2}}{2}}
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
関数 \(\Xi_{(-1,1)}(t)\) の Fourier 変換
</p>
<blockquote>
<div>
\begin{equation}
  \mathcal{F}[\Xi_{(-1,1)}](\omega)
  =
  \sqrt{\frac{2}{\pi}}\frac{\sin(\omega)}{\omega}
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
関数 \((\sin(\omega)/\omega)^{2}\) の 逆 Fourier 変換
</p>
<blockquote>
<p>
畳み込みを利用
</p>
<div>
\begin{equation}
  \mathcal{F}[h{*}f](\omega)
  =\sqrt{2\pi}\cdot\hat{h}(\omega)\cdot\hat{f}(\omega)
\end{equation}

</div>

<div>
\begin{align}
  \mathcal{F}^{-1}[\hat{f}^{2}](t)
  &=\frac{1}{\sqrt{2\pi}}f{*}f(t)\\
  &=\frac{1}{\sqrt{2\pi}}
    \sqrt{\frac{\pi}{2}}^{2}\Xi_{(-1,1)}{*}\Xi_{(-1,1)}(t)\\
  &=\sqrt{\frac{\pi}{8}}\Xi_{(-1,1)}{*}\Xi_{(-1,1)}(t)
\end{align}

</div>
</blockquote></li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-org8a488ee">
<h2 id="org8a488ee">フィルタ回路</h2>
<div class="outline-text-2" id="text-org8a488ee">
</div>
</section>
<section id="slide-org21223eb">
<h3 id="org21223eb">インパルス応答とは</h3>
<ul>
<li><p>
\(\delta(t)\) を入力した時のフィルタ出力
</p>
<blockquote>
<div>
\begin{equation}
  h(t)
  =\int_{-\infty}^{\infty}\delta(s)h(t-s)ds
\end{equation}

</div>
</blockquote></li>
<li>物理的には
面積1 (\(\Delta \times 1/\Delta\))
の矩形波に対する出力を
時間幅 \(\Delta\to0\) としたときの波形</li>

</ul>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgcb71eea">
<h3 id="orgcb71eea">2端子対回路</h3>

<div id="orgdc7a10a" class="figure">
<p><img src="figs/信号処理 1.png" alt="信号処理 1.png" width="100%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgf962859">
<h3 id="orgf962859">例題</h3>
<ul>
<li>以下の回路の時間領域での入出力関係を求めよ．</li>
<li>同じく周波数領域での入出力関係を求めよ．</li>

</ul>


<div id="orgc09620c" class="figure">
<p><img src="figs/信号処理 2.png" alt="信号処理 2.png" width="90%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgf79b5fc">
<h3 id="orgf79b5fc">解答</h3>
<ul>
<li><p>
時間領域
</p>
<blockquote>
<div>
\begin{equation}
  V_{out}(t)
  =\frac{R_{2}}{R_{1}+R_{2}}V_{in}(t)
\end{equation}

</div>
</blockquote></li>
<li><p>
周波数領域
</p>
<blockquote>
<div>
\begin{equation}
  \hat{V}_{out}(\omega)
  =\frac{R_{2}}{R_{1}+R_{2}}\hat{V}_{in}(\omega)
\end{equation}

</div>
</blockquote></li>
<li>同じ形になることに注意</li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-orgc15fc22" data-background="#fef4f4">
<h2 id="orgc15fc22">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org545bd77" data-background="#fef4f4">
<h3 id="org545bd77">練習問題</h3>
<ul>
<li>以下の回路の時間領域での入出力関係を求めよ．</li>
<li>同じく周波数領域での入出力関係を求めよ．</li>

</ul>


<div id="orgd2c3971" class="figure">
<p><img src="figs/信号処理 3.png" alt="信号処理 3.png" width="90%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgaa2e3f2" data-background="#fef4f4">
<h3 id="orgaa2e3f2">解答例</h3>
<ul>
<li><p>
時間領域
</p>
<blockquote>
<p>
以下の微分方程式が成り立つ
</p>
<div>
\begin{align}
  V_{in}(t)
  &=RI(t)+V_{out}(t)\\
  I(t)
  &=C\frac{d}{dt}V_{out}(t)
\end{align}

</div>

<p>
整理して
</p>
<div>
\begin{equation}
  V_{in}(t)
  =CR\frac{d}{dt}V_{out}(t)
  +V_{out}(t)
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
周波数領域
</p>
<blockquote>
<p>
時間領域の結果を Fourier 変換して
</p>
<div>
\begin{equation}
  \hat{V}_{in}(\omega)
  =i\omega CR\hat{V}_{out}(\omega)
  +\hat{V}_{out}(\omega)
\end{equation}

</div>

<p>
入出力の関係を見直して
</p>
<div>
\begin{equation}
  \hat{V}_{out}(\omega)
  =
  \frac{1}{i\omega CR+1}
  \hat{V}_{in}(\omega)
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
フィルタとしての関係
</p>
<blockquote>
<div>
\begin{equation}
  \hat{g}(\omega)
  =
  \sqrt{2\pi}\cdot\hat{h}(\omega)\cdot\hat{f}(\omega)
\end{equation}

</div>

<p>
と比較して
</p>
<div>
\begin{align}
  \hat{f}(\omega)
  &=\hat{V}_{in}(\omega)\\
  \hat{g}(\omega)
  &=\hat{V}_{out}(\omega)\\
  \sqrt{2\pi}\cdot\hat{h}(\omega)
  &=\frac{1}{i\omega CR+1}
    =\frac{1}{iCR}\frac{1}{\omega -i/CR}
\end{align}

</div>
</blockquote>
<ul>
<li>周波数依存性について考察せよ</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-org828a3c1">
<h2 id="org828a3c1">逆 Fourier 変換を用いた解析</h2>
<div class="outline-text-2" id="text-org828a3c1">
</div>
</section>
<section id="slide-org264ea46">
<h3 id="org264ea46">インパルス応答</h3>
<ul>
<li><p>
逆 Fourier 変換
</p>
<blockquote>
<p>
式を見易くするため \(a=1/CR\) とおく
</p>
<div>
\begin{align}
  h(t)
  &=\mathcal{F}^{-1}[\hat{h}](t)\\
  &=\frac{1}{\sqrt{2\pi}}\int_{-\infty}^{\infty} \hat{h}(\omega)e^{i\omega t}d\omega\\
  &=\frac{a}{2\pi i}\int_{-\infty}^{\infty} \frac{e^{i\omega t}}{\omega-ia}d\omega
\end{align}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li>複素積分の積分路
<ul>
<li>\(t>0\) のとき， \(ia\) を囲む上半平面</li>
<li>\(t<0\) のとき， 下半平面</li>

</ul></li>

</ul>


<div id="org12f3b90" class="figure">
<p><img src="figs/信号処理 4.png" alt="信号処理 4.png" width="90%" />
</p>
</div>

<div class="slide-footer"><br></div>
</section>
<section>
<ul>
<li><p>
留数定理
</p>
<blockquote>
<p>
積分路が孤立特異点 \(c\) を含むとき以下が成り立つ
</p>
<div>
\begin{equation}
  \frac{1}{2\pi i}\oint f(z)dz
  =\mathrm{Res}_{z=c}f(z)
  =\lim_{z\to c}(z-c)f(z)
\end{equation}

</div>
</blockquote></li>
<li><p>
計算結果
</p>
<blockquote>
<div>
\begin{equation}
  h(t)
  =
  \begin{cases}
    a e^{-at}=\frac{1}{CR}e^{-\frac{t}{CR}},&t>0\\
    0,&t<0
  \end{cases}
\end{equation}

</div>
</blockquote></li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-orge54f64a" data-background="#fef4f4">
<h2 id="orge54f64a">演習</h2>
<div class="slide-footer"><br></div>
</section>
<section id="slide-org1923b2d" data-background="#fef4f4">
<h3 id="org1923b2d">練習問題</h3>
<ul>
<li>矩形波の入力に対して微分方程式を直接解き，
その極限からインパルス応答を求めよ．</li>

</ul>


<div id="orge9647e0" class="figure">
<p><img src="figs/信号処理 5.png" alt="信号処理 5.png" width="90%" />
</p>
</div>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orge48d027" data-background="#fef4f4">
<h3 id="orge48d027">解答例</h3>
<ul>
<li><p>
\(0 < t \le \Delta\)
</p>
<blockquote>
<div>
\begin{equation}
  \frac{1}{\Delta}
  =CR\frac{d}{dt}V_{out}(t)
  +V_{out}(t)
\end{equation}

</div>

<p>
\(U(t)=V_{out}(t)-1/\Delta\) と置くと
</p>
<div>
\begin{equation}
  \frac{d}{dt}U(t)=-\frac{1}{CR}U(t)
\end{equation}

</div>

<p>
よって
</p>
<div>
\begin{equation}
  V_{out}(t)=a e^{-\frac{t}{CR}}+\frac{1}{\Delta}         
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
初期条件 \(V_{out}(0)=0\)
</p>
<blockquote>
<div>
\begin{equation}
  0=a+\frac{1}{\Delta}
\end{equation}

</div>

<p>
よって
</p>
<div>
\begin{equation}
  V_{out}(t)=\frac{1}{\Delta}(1-e^{-\frac{t}{CR}})
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
\(\Delta < t\)
</p>
<blockquote>
<div>
\begin{equation}
  0
  =CR\frac{d}{dt}V_{out}(t)
  +V_{out}(t)
\end{equation}

</div>

<p>
よって
</p>
<div>
\begin{equation}
  V_{out}(t)=a e^{-\frac{1}{CR}}
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
初期条件 \(V_{out}(\Delta)=1/\Delta\cdot(1-e^{-\frac{\Delta}{CR}})\)
</p>
<blockquote>
<div>
\begin{equation}
  \frac{1}{\Delta}(1-e^{-\frac{\Delta}{CR}})
  =a e^{-\frac{\Delta}{CR}}
\end{equation}

</div>

<p>
よって
</p>
<div>
\begin{equation}
  V_{out}(t)=\frac{1}{\Delta}(e^{\frac{\Delta}{CR}}-1)e^{-\frac{t}{CR}}
\end{equation}

</div>
</blockquote></li>

</ul>

<div class="slide-footer"><br></div>
</section>
<section data-background="#fef4f4">
<ul>
<li><p>
\(\Delta\to 0\)
</p>
<blockquote>
<div>
\begin{equation}
  \lim_{\Delta\to0}
  \frac{1}{\Delta}(e^{\frac{\Delta}{CR}}-1)
  =\frac{1}{CR}
\end{equation}

</div>

<p>
よって
</p>
<div>
\begin{equation}
  V_{out}(t)=\frac{1}{CR}e^{-\frac{t}{CR}}\quad(t>0)
\end{equation}

</div>
</blockquote></li>

</ul>
<div class="slide-footer"><br></div>


</section>
</section>
<section>
<section id="slide-orgba8685d">
<h2 id="orgba8685d">今回のまとめ</h2>
<ul>
<li>線形フィルタ回路
<ul>
<li>時間領域での表現(微分方程式)</li>
<li>周波数領域での表現(関数の積)</li>
<li>フィルタの周波数特性</li>
<li>インパルス応答の求め方</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>

</section>
<section id="slide-orgb0904ea">
<h3 id="orgb0904ea">注意</h3>
<ul>
<li>確認テスト (講義10の中)
<ul>
<li>Fourier 変換の基本的な問題
<ul>
<li>手を動かしてしっかり計算すること</li>
<li>順逆の関係を上手く利用すること</li>

</ul></li>
<li>試験の意味を考えて誠実な対応をすること</li>
<li>ネットワーク環境等には自身で配慮すること</li>

</ul></li>

</ul>
<div class="slide-footer"><br></div>
</div>
</div>
<script src="./reveal.js/dist/reveal.js"></script>
<script src="./reveal.js/plugin/notes/notes.js"></script>
<script src="./reveal.js/plugin/search/search.js"></script>
<script src="./reveal.js/plugin/zoom/zoom.js"></script>
<script src="./reveal.js/plugin/highlight/highlight.js"></script>
<script>
// Full list of configuration options available here:
// https://github.com/hakimel/reveal.js#configuration
Reveal.initialize({

controls: true,
progress: true,
history: true,
center: true,
slideNumber: 'c',
rollingLinks: false,
keyboard: true,
mouseWheel: false,
fragmentInURL: true,
hashOneBasedIndex: false,
pdfSeparateFragments: false,
overview: true,

transition: 'fade',
transitionSpeed: 'default',
spotlight: { size: 90, initialPresentationMode: false }, chalkboard: { toggleChalkboardButton: { left: '80px' }, toggleNotesButton: { left: '130px'}}, keyboard: { 69: function() { RevealChalkboard.toggleNotesCanvas() }, 87: function() { RevealChalkboard.toggleChalkboard() }, 67: function() { RevealChalkboard.clear() }, 82: function() { RevealChalkboard.reset() }, 68: function() { RevealChalkboard.download() }, 88: function() { RevealChalkboard.colorNext() }, 89: function() { RevealChalkboard.colorPrev() }, 84: function() { RevealSpotlight.toggleSpotlight() }, 81: function() { RevealSpotlight.togglePresentationMode()}},

// Plugins with reveal.js 4.x
plugins: [ RevealNotes, RevealSearch, RevealZoom, RevealHighlight ],

// Optional libraries used to extend reveal.js
dependencies: [
{ src: './reveal.js/plugin/menu/menu.js'},
{ src: './reveal.js/plugin/chalkboard/chalkboard.js'},
{ src: './reveal.js/plugin/spotlight/spotlight.js'}]

});
</script>
</body>
</html>
